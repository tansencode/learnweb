<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>圆角矩形</title>
    <script type="text/javascript">
        function $$(id)
        {
            return document.getElementById(id);
        }

        window.onload = function ()
        {
            //获取canvas元素
            var canv = $$("canvas");
            var cxt = canv.getContext("2d");

            createRoundedRect(cxt, 100, 100, 20, 20, 20);

            //描边
            cxt.strokeStyle = "red"; //描边颜色
            cxt.stroke();   //开始描边

            //填充
            cxt.fillStyle = "lightblue"; //填充颜色
            cxt.fill();   //开始填充


            //绘制圆角矩形函数
            function createRoundedRect(cxt, width, height, r, offsetX, offsetY)
            {
                cxt.beginPath();

                cxt.moveTo(offsetX +r, offsetY);
                cxt.lineTo(offsetX + width - r, offsetY);
                cxt.arcTo(offsetX + width, offsetY, offsetY + width, offsetY + r, r);
                cxt.lineTo(offsetX + width, offsetY + height - r);
                cxt.arcTo(offsetY + width, offsetY + height, offsetX + width - r, offsetY + height, r);
                cxt.lineTo(offsetX + r, offsetY + height);
                cxt.arcTo(offsetX, offsetY + height, offsetX, offsetY + height - r, r);
                cxt.lineTo(offsetX, offsetY + r);
                cxt.arcTo(offsetX, offsetY, offsetX + r, offsetY, r);
                cxt.closePath();
            }

        }
    </script>
</head>
<body>
    <canvas id="canvas" width="200" height="150" style="border:1px dashed gray;"></canvas>
</body>
</html>